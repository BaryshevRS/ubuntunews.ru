---
title: 'В Ubuntu исправлена проблема с ACPI для жестких дисков ноутбуков'
date: '2009-01-22T18:15:47+03:00'
uri: 'news/v-ubuntu-ispravlena-problema-s-acpi-dlya-jestkih-diskov-noutbukov'
alias: 
  - 'news/24.html'
tags: 'Ubuntu Linux,баг'
source: 'http://www.opennet.ru/opennews/art.shtml?num=19832'
unixtime: 1232637347
visits: 2338
---
В 2007 году было опубликовано сообщение о повышенном износе жестких дисков ноутбуков, работающих под управлением Ubuntu Linux. Проблема вызвана излишне частым перевод жесткого диска в спящий режим, по умолчанию применяющийся в Ubuntu при работе ноутбука от батареи при активном “ENABLE\_LAPTOP\_MODE” режиме в /etc/default/acpi-support или /etc/default/laptop-mode, что значительно сокращает срок службы жесткого диска.

Несмотря на многочисленные жалобы в скрипте /etc/acpi/power.sh по прежнему присутствует вызов “$HDPARM -B 1” (1 - самый агрессивный режим экономии энергии, для выключения засыпания рекомендуется установить 255, но при возвращении ноутбука из спящего режима значение уровня APM все равно автоматически устанавливается в 128). При текущих установках, за 100 часов работы с ноутбуком жесткий диск переводился в спящий режим 7000 раз (ресурс диска - 600000), т.е. почти раз в минуту.

Несколько дней назад в тестовый репозиторий 'proposed' для выпусков 9.04, 8.10 и 8.04 помещена исправленная версия пакета acpi-support, в случае одобрения исправления будут интегрированы в основной дистрибутив.

Оценить число выключений диска можно установив пакет smartmontools и выполнив команду “smartctl -d ata -a /dev/sda| grep Load\_Cycle\_Count”. Для проверки активности агрессивного засыпания диска нужно выполнить: hdparm -I /dev/sda| grep 'Advanced power management level'.
