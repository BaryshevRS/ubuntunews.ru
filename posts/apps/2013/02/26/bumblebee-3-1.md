---
title: 'Вышел Bumblebee 3.1 с поддержкой Primus'
date: '2013-02-26T22:47:56+04:00'
uri: 'apps/bumblebee-3-1'
alias: 
  - 'apps/bumblebee-3-1.html'
tags: 'Bumblebee,Primus,VirtualGL'
source: 'http://www.webupd8.org/2012/11/primus-better-performance-and-less.html'
unixtime: 1361904476
visits: 14455
---
Представлена обновлённая версия [Bumblebee 3.1](http://www.bumblebee-project.org/), вышедшая с поддержкой Primus, в качестве альтернативы VirtualGL, а также с несколькими новыми характеристиками и улучшениями.

![](img/2013/02/26/22-00/nvidia-optimus-5757103083-o.jpg)

**Bumblebee** – неофициальная утилита для поддержки технологии Nvidia Optimus GPU в Linux, суть которой заключается в продлении жизни батареи за счёт отключения графического процессора, когда это не нужно, вместо этого переключаясь на интегрированную графику на базе чипа Intel.

[VirtualGL](http://ru.wikipedia.org/wiki/VirtualGL) – программа, перенаправляющая команды 3D-рендеринга, которая позволяет Bumblebee задействовать экономный, второстепенный чип Intel. С помощью [Primus](https://github.com/amonakov/primus) можно исключить этого посредника, тем самым увеличив производительность и сэкономив заряд батареи на большее время.

### Преимущества Primus перед VirtualGL

*   Больше частота кадров, так как нет накладных издержек с сетью и сжатием, связанных с особенность архитектуры VirtualGL, ориентированной для передачи изображений удалённым клиентам. В Primus нет этих лишних шагов (архивация, передача с задействованием сетевых интерфейсов, распаковка), сгенерированное изображение просто копируется с вторичного процессора на основной.
*   Исправлен баг преждевременного отключения GPU.
*   Более корректная работа и простая отладка.
*   Для части приложений включается только запасной GPU.

## Что нового в версии 3.1

*   Поддержка Primus в качестве альтернативы VirtualGL, как бэкенда optirun. Это настраивается через новую опцию «Bridge» в конфигурационном файле «bumblebee.conf», по умолчанию выставленным в значение «auto» – если выбран и установлен, используется VirtualGL, иначе Primus, который с версии Bumblebee 4.0, вероятнее всего, будет выставлен по умолчанию.
*   Optirun получил опцию для выбора бэкенда: --bridge.
*   Исправлена ошибка с драйвером nouveau, не работающим под X.org 1.13+.
*   Новая опция «Bridge» в конфигурационном файле bumblebee.conf.
*   Использование неблокирующих сокетов, в качестве замены former 3.0.1 hotfix.
*   Добавлено правило для udev, позволяющее избежать случайного отключения видеокарты.
*   В xorg.conf.nvidia добавлен фикс для поддержки карт семейства Kepler.
*   Множество других изменений.

## Установка Bumblebee в Ubuntu

Установить можно из стабильного PPA для всех версий Ubuntu, используя команды ниже:

```
sudo add-apt-repository ppa:bumblebee/stablesudo apt-get updatesudo apt-get install bumblebee bumblebee-nvidia
```

После инсталляции потребуется перезагрузиться. Проверить корректность работы можно командой:

```
optirun glxspheres
```

Для того чтобы запустить приложение или игру, задействуя графику Nvidia, надо выполнить команду через утилиту optirun, например, – «optirun steam».

Подробнее по работе можно почитать на странице [русскоязычной документации](http://help.ubuntu.name/wiki/bumblebee).

## Установка Primus в Ubuntu

Пакет Primus теперь также доступен из этого же репозитория, поэтому, если он был установлен ранее из своего собственного PPA, его потребуется удалить.

Команда установки:

```
sudo apt-get install primus
```

**Для 64-разрядных сборок**, также нужно доустановить следующий пакет:

```
sudo apt-get install primus-libs-ia32:i386
```

**Для включения в качестве бэкенда:**

Для этого нужно изменить значение опции «Bridge» в файле «/etc/bumblebee/bumblebee.conf» на «primus».

Кроме того, приложения через Primus можно запускать напрямую командой:

```
optirun -b primus Программа
```

Где вместо слова «Программа» – надо подставить имя своего приложения.
